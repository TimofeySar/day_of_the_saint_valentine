<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–¥–∞–Ω–∏–µ 3: –°–æ–±–µ—Ä–∏ –Ω–∞—à–µ —Å–≤–∏–¥–∞–Ω–∏–µ</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <!-- –í–∞—à CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container text-center">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h1 class="display-4">–ó–∞–¥–∞–Ω–∏–µ 3: –°–æ–±–µ—Ä–∏ –Ω–∞—à–µ —Å–≤–∏–¥–∞–Ω–∏–µ</h1>
                <p class="lead">–í—ã–±–µ—Ä–∏ –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ —Å–≤–∏–¥–∞–Ω–∏—è!</p>

                <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
                <div class="progress mb-4">
                    <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>

                <!-- –í—ã–±–æ—Ä –º–µ—Å—Ç–∞ -->
                <div class="choice-section">
                    <h3>1. –í—ã–±–µ—Ä–∏ –º–µ—Å—Ç–æ:</h3>
                    <div class="choices">
                        <div class="choice-card" onclick="selectChoice('place', '–ü–∞—Ä–∫ üå≥', this)">
                            <img src="{{ url_for('static', filename='park.jpg') }}" alt="–ü–∞—Ä–∫">
                            <p>–ü–∞—Ä–∫ üå≥</p>
                        </div>
                        <div class="choice-card" onclick="selectChoice('place', '–ö–∞—Ñ–µ ‚òï', this)">
                            <img src="{{ url_for('static', filename='sohi.jpg') }}" alt="–ö–∞—Ñ–µ">
                            <p>–°–æ—á–∏ üèÇ</p>
                        </div>
                        <div class="choice-card" onclick="selectChoice('place', '–ö–∏–Ω–æ üé¨', this)">
                            <img src="{{ url_for('static', filename='school.jpg') }}" alt="–ö–∏–Ω–æ">
                            <p>–®–∫–æ–ª–∞ üè´</p>
                        </div>
                    </div>
                </div>

                <!-- –í—ã–±–æ—Ä –µ–¥—ã -->
                <div class="choice-section">
                    <h3>2. –í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ:</h3>
                    <div class="choices">
                        <div class="choice-card" onclick="selectChoice('food', '–ü–∏—Ü—Ü–∞ üçï', this)">
                            <img src="{{ url_for('static', filename='golat.jpg') }}" alt="–ü–∏—Ü—Ü–∞">
                            <p>–ì—É–ª—è—Ç—å üö∂</p>
                        </div>
                        <div class="choice-card" onclick="selectChoice('food', '–°—É—à–∏ üç£', this)">
                            <img src="{{ url_for('static', filename='shoping.jpg') }}" alt="–°—É—à–∏">
                            <p>–®–æ–ø–ø–∏–Ω–≥ üëú</p>
                        </div>
                        <div class="choice-card" onclick="selectChoice('food', '–ú–æ—Ä–æ–∂–µ–Ω–æ–µ üç¶', this)">
                            <img src="{{ url_for('static', filename='bal.jpg') }}" alt="–ú–æ—Ä–æ–∂–µ–Ω–æ–µ">
                            <p>–¢–∞–Ω—Ü–µ–≤–∞—Ç—å üíÉ</p>
                        </div>
                    </div>
                </div>

                <!-- –í—ã–±–æ—Ä –º—É–∑—ã–∫–∏ -->
                <div class="choice-section">
                    <h3>3. –í—ã–±–µ—Ä–∏ –º—É–∑—ã–∫—É:</h3>
                    <div class="choices">
                        <div class="choice-card" onclick="selectChoice('music', '–î–∂–∞–∑ üé∑', this)">
                            <img src="{{ url_for('static', filename='saluki.jpg') }}" alt="–î–∂–∞–∑">
                            <p>–°–∞–ª—É–∫–∏ üé∑</p>
                        </div>
                        <div class="choice-card" onclick="selectChoice('music', '–†–æ–∫ ü§ò', this)">
                            <img src="{{ url_for('static', filename='mc.jpg') }}" alt="–†–æ–∫">
                            <p>–ê–Ω—Ç–æ—Ö–∞ –º—Å ü§ò</p>
                        </div>
                        <div class="choice-card" onclick="selectChoice('music', '–ü–æ–ø üé§', this)">
                            <img src="{{ url_for('static', filename='proshloe.jpg') }}" alt="–ü–æ–ø">
                            <p>–°–∏–¥–µ—Ç—å –≤ —Ç–∏—à–∏–Ω–µ, –≤—Å–ø–æ–º–∏–Ω–∞—Ç—å –ø—Ä–æ—à–ª–æ–µ ü§´</p>
                        </div>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è -->
                <button id="complete-btn" class="btn btn-heart hidden" onclick="completeTask()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        let selectedChoices = {
            place: null,
            food: null,
            music: null
        };

        function selectChoice(category, choice, card) {
            if (!selectedChoices[category]) {
                selectedChoices[category] = choice;
                card.classList.add('selected');
                updateProgress();
                checkCompletion();
            }
        }

        function updateProgress() {
            const progress = (Object.values(selectedChoices).filter(Boolean).length / 3) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function checkCompletion() {
            if (selectedChoices.place && selectedChoices.food && selectedChoices.music) {
                document.getElementById('complete-btn').classList.remove('hidden');
            }
        }

        function completeTask() {
            alert(`–¢—ã –≤—ã–±—Ä–∞–ª–∞: ${selectedChoices.place}, ${selectedChoices.food}, ${selectedChoices.music}. –ò–¥–µ–∞–ª—å–Ω–æ!`);
            window.location.href = "{{ url_for('final') }}";
        }
    </script>
</body>
</html>